<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEMPUS API í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .api-section {
            margin-bottom: 40px;
            border: 1px solid #e1e5e9;
            border-radius: 15px;
            overflow: hidden;
        }
        
        .section-header {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e1e5e9;
            font-size: 1.3rem;
            font-weight: 600;
            color: #495057;
        }
        
        .api-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        
        .api-card {
            border: 1px solid #e1e5e9;
            border-radius: 10px;
            padding: 20px;
            background: white;
            transition: all 0.3s ease;
        }
        
        .api-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .api-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #495057;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
                .method {
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        .method.post { background: #28a745; color: white; }
        .method.get { background: #007bff; color: white; }
        .method.put { background: #ffc107; color: black; }
        .method.delete { background: #dc3545; color: white; }
        .method.patch { background: #fd7e14; color: white; }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #495057;
        }
        
        .input-group input, .input-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }
        
        .input-group input:focus, .input-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .input-group textarea {
            resize: vertical;
            min-height: 80px;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .response {
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .response.success {
            border-left-color: #28a745;
            background: #d4edda;
        }
        
        .response.error {
            border-left-color: #dc3545;
            background: #f8d7da;
        }
        
        .auth-info {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .auth-info h3 {
            color: #1976d2;
            margin-bottom: 15px;
        }
        
        .auth-info p {
            color: #424242;
            margin-bottom: 10px;
        }
        
        .token-display {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            word-break: break-all;
            margin-top: 10px;
        }
        
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-connected { background: #28a745; }
        .status-disconnected { background: #dc3545; }
        
        @media (max-width: 768px) {
            .api-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”¥ TEMPUS API í…ŒìŠ¤íŠ¸</h1>
            <p>ë°±ì—”ë“œ API ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”</p>
        </div>
        
        <div class="content">
            <!-- ì¸ì¦ ì •ë³´ ì„¹ì…˜ -->
            <div class="auth-info">
                <h3>ğŸ” ì¸ì¦ ì •ë³´</h3>
                <p><strong>í˜„ì¬ í† í°:</strong> <span id="currentToken">ì—†ìŒ</span></p>
                <p><strong>ì‚¬ìš©ì ID:</strong> <span id="currentUserId">ì—†ìŒ</span></p>
                <div class="token-display" id="tokenDisplay" style="display: none;"></div>
            </div>
            
            <!-- User API ì„¹ì…˜ -->
            <div class="api-section">
                <div class="section-header">ğŸ‘¤ User API</div>
                <div class="api-grid">
                    <!-- íšŒì›ê°€ì… -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method post">POST</span>
                            íšŒì›ê°€ì…
                        </div>
                        <div class="input-group">
                            <label>ì´ë©”ì¼:</label>
                            <input type="email" id="registerEmail" placeholder="test@example.com">
                        </div>
                        <div class="input-group">
                            <label>ë¹„ë°€ë²ˆí˜¸:</label>
                            <input type="password" id="registerPassword" placeholder="password123">
                        </div>
                        <div class="input-group">
                            <label>ë‹‰ë„¤ì„:</label>
                            <input type="text" id="registerNickname" placeholder="í…ŒìŠ¤íŠ¸ìœ ì €">
                        </div>
                        <button class="btn" onclick="register()">íšŒì›ê°€ì…</button>
                        <div class="response" id="registerResponse"></div>
                    </div>
                    
                    <!-- ë¡œê·¸ì¸ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method post">POST</span>
                            ë¡œê·¸ì¸
                        </div>
                        <div class="input-group">
                            <label>ì´ë©”ì¼:</label>
                            <input type="email" id="loginEmail" placeholder="test@example.com">
                        </div>
                        <div class="input-group">
                            <label>ë¹„ë°€ë²ˆí˜¸:</label>
                            <input type="password" id="loginPassword" placeholder="password123">
                        </div>
                        <button class="btn" onclick="login()">ë¡œê·¸ì¸</button>
                        <div class="response" id="loginResponse"></div>
                    </div>
                    
                    <!-- ë‹‰ë„¤ì„ í™•ì¸ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method get">GET</span>
                            ë‹‰ë„¤ì„ í™•ì¸
                        </div>
                        <div class="input-group">
                            <label>ë‹‰ë„¤ì„:</label>
                            <input type="text" id="checkNickname" placeholder="í…ŒìŠ¤íŠ¸ìœ ì €">
                        </div>
                        <button class="btn" onclick="checkNickname()">ë‹‰ë„¤ì„ í™•ì¸</button>
                        <div class="response" id="checkNicknameResponse"></div>
                    </div>
                    
                    <!-- ë‚´ ì˜¨ë„ ì¡°íšŒ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method get">GET</span>
                            ë‚´ ì˜¨ë„ ì¡°íšŒ
                        </div>
                        <button class="btn" onclick="getMyTemperature()">ì˜¨ë„ ì¡°íšŒ</button>
                        <div class="response" id="getMyTemperatureResponse"></div>
                    </div>
                </div>
            </div>
            
            <!-- Post API ì„¹ì…˜ -->
            <div class="api-section">
                <div class="section-header">ğŸ“ Post API</div>
                <div class="api-grid">
                    <!-- ê²Œì‹œê¸€ ì‘ì„± -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method post">POST</span>
                            ê²Œì‹œê¸€ ì‘ì„±
                        </div>
                        <div class="input-group">
                            <label>ì œëª©:</label>
                            <input type="text" id="postTitle" placeholder="í…ŒìŠ¤íŠ¸ ê²Œì‹œê¸€ ì œëª©">
                        </div>
                        <div class="input-group">
                            <label>ë‚´ìš©:</label>
                            <textarea id="postContent" placeholder="í…ŒìŠ¤íŠ¸ ê²Œì‹œê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                        </div>
                        <div class="input-group">
                            <label>ì˜¨ë„ ë³€í™”:</label>
                            <input type="number" id="postTemperature" placeholder="0" value="0">
                        </div>
                        <button class="btn" onclick="createPost()">ê²Œì‹œê¸€ ì‘ì„±</button>
                        <div class="response" id="createPostResponse"></div>
                    </div>
                    
                    <!-- ê²Œì‹œê¸€ ëª©ë¡ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method get">GET</span>
                            ê²Œì‹œê¸€ ëª©ë¡
                        </div>
                        <div class="input-group">
                            <label>í˜ì´ì§€:</label>
                            <input type="number" id="postPage" placeholder="1" value="1">
                        </div>
                        <div class="input-group">
                            <label>ê°œìˆ˜:</label>
                            <input type="number" id="postLimit" placeholder="10" value="10">
                        </div>
                        <button class="btn" onclick="getAllPosts()">ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ</button>
                        <div class="response" id="getAllPostsResponse"></div>
                    </div>
                    
                    <!-- íŠ¹ì • ê²Œì‹œê¸€ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method get">GET</span>
                            íŠ¹ì • ê²Œì‹œê¸€
                        </div>
                        <div class="input-group">
                            <label>ê²Œì‹œê¸€ ID:</label>
                            <input type="text" id="getPostId" placeholder="ê²Œì‹œê¸€ ID ì…ë ¥">
                        </div>
                        <button class="btn" onclick="getPostById()">ê²Œì‹œê¸€ ì¡°íšŒ</button>
                        <div class="response" id="getPostByIdResponse"></div>
                    </div>
                    
                    <!-- ê²Œì‹œê¸€ ìˆ˜ì • -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method put">PUT</span>
                            ê²Œì‹œê¸€ ìˆ˜ì •
                        </div>
                        <div class="input-group">
                            <label>ê²Œì‹œê¸€ ID:</label>
                            <input type="text" id="updatePostId" placeholder="ê²Œì‹œê¸€ ID ì…ë ¥">
                        </div>
                        <div class="input-group">
                            <label>ì œëª©:</label>
                            <input type="text" id="updatePostTitle" placeholder="ìˆ˜ì •ëœ ì œëª©">
                        </div>
                        <div class="input-group">
                            <label>ë‚´ìš©:</label>
                            <textarea id="updatePostContent" placeholder="ìˆ˜ì •ëœ ë‚´ìš©"></textarea>
                        </div>
                        <button class="btn" onclick="updatePost()">ê²Œì‹œê¸€ ìˆ˜ì •</button>
                        <div class="response" id="updatePostResponse"></div>
                    </div>
                    
                    <!-- ê²Œì‹œê¸€ ì‚­ì œ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method delete">DELETE</span>
                            ê²Œì‹œê¸€ ì‚­ì œ
                        </div>
                        <div class="input-group">
                            <label>ê²Œì‹œê¸€ ID:</label>
                            <input type="text" id="deletePostId" placeholder="ê²Œì‹œê¸€ ID ì…ë ¥">
                        </div>
                        <button class="btn" onclick="deletePost()">ê²Œì‹œê¸€ ì‚­ì œ</button>
                        <div class="response" id="deletePostResponse"></div>
                    </div>
                    
                    <!-- ê²Œì‹œê¸€ ì˜¨ë„ ì—…ë°ì´íŠ¸ -->
                    <div class="api-card">
                        <div class="api-title">
                            <span class="method patch">PATCH</span>
                            ê²Œì‹œê¸€ ì˜¨ë„ ì—…ë°ì´íŠ¸
                        </div>
                        <div class="input-group">
                            <label>ê²Œì‹œê¸€ ID:</label>
                            <input type="text" id="updatePostTempId" placeholder="ê²Œì‹œê¸€ ID ì…ë ¥">
                        </div>
                        <div class="input-group">
                            <label>ì˜¨ë„ ë³€í™”:</label>
                            <input type="number" id="updatePostTempValue" placeholder="0" value="0">
                        </div>
                        <button class="btn" onclick="updatePostTemperature()">ì˜¨ë„ ì—…ë°ì´íŠ¸</button>
                        <div class="response" id="updatePostTemperatureResponse"></div>
                    </div>
                </div>
            </div>
            
                         <!-- Comment API ì„¹ì…˜ -->
             <div class="api-section">
                 <div class="section-header">ğŸ’¬ Comment API</div>
                 <div class="api-grid">
                     <!-- ëŒ“ê¸€ ì‘ì„± -->
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method post">POST</span>
                             ëŒ“ê¸€ ì‘ì„±
                         </div>
                         <div class="input-group">
                             <label>ê²Œì‹œê¸€ ID:</label>
                             <input type="text" id="commentPostId" placeholder="ê²Œì‹œê¸€ ID ì…ë ¥">
                         </div>
                         <div class="input-group">
                             <label>ëŒ“ê¸€ ë‚´ìš©:</label>
                             <textarea id="commentContent" placeholder="ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                         </div>
                         <div class="input-group">
                             <label>ì˜¨ë„ ë³€í™”:</label>
                             <input type="number" id="commentTemperature" placeholder="0" value="0">
                         </div>
                         <button class="btn" onclick="handleCreateComment()">ëŒ“ê¸€ ì‘ì„±</button>
                         <div class="response" id="createCommentResponse"></div>
                     </div>
                     
                     <!-- ê²Œì‹œê¸€ë³„ ëŒ“ê¸€ -->
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             ê²Œì‹œê¸€ë³„ ëŒ“ê¸€
                         </div>
                         <div class="input-group">
                             <label>ê²Œì‹œê¸€ ID:</label>
                             <input type="text" id="getCommentsPostId" placeholder="ê²Œì‹œê¸€ ID ì…ë ¥">
                         </div>
                         <div class="input-group">
                             <label>í˜ì´ì§€:</label>
                             <input type="number" id="commentPage" placeholder="1" value="1">
                         </div>
                         <div class="input-group">
                             <label>ê°œìˆ˜:</label>
                             <input type="number" id="commentLimit" placeholder="10" value="10">
                         </div>
                         <button class="btn" onclick="getCommentsByPost()">ëŒ“ê¸€ ì¡°íšŒ</button>
                         <div class="response" id="getCommentsByPostResponse"></div>
                     </div>
                     
                     <!-- íŠ¹ì • ëŒ“ê¸€ -->
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             íŠ¹ì • ëŒ“ê¸€
                         </div>
                         <div class="input-group">
                             <label>ëŒ“ê¸€ ID:</label>
                             <input type="text" id="getCommentId" placeholder="ëŒ“ê¸€ ID ì…ë ¥">
                         </div>
                         <button class="btn" onclick="getCommentById()">ëŒ“ê¸€ ì¡°íšŒ</button>
                         <div class="response" id="getCommentByIdResponse"></div>
                     </div>
                     
                     <!-- ëŒ“ê¸€ ìˆ˜ì • -->
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method put">PUT</span>
                             ëŒ“ê¸€ ìˆ˜ì •
                         </div>
                         <div class="input-group">
                             <label>ëŒ“ê¸€ ID:</label>
                             <input type="text" id="updateCommentId" placeholder="ëŒ“ê¸€ ID ì…ë ¥">
                         </div>
                         <div class="input-group">
                             <label>ë‚´ìš©:</label>
                             <textarea id="updateCommentContent" placeholder="ìˆ˜ì •ëœ ëŒ“ê¸€ ë‚´ìš©"></textarea>
                         </div>
                         <button class="btn" onclick="updateComment()">ëŒ“ê¸€ ìˆ˜ì •</button>
                         <div class="response" id="updateCommentResponse"></div>
                     </div>
                     
                     <!-- ëŒ“ê¸€ ì‚­ì œ -->
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method delete">DELETE</span>
                             ëŒ“ê¸€ ì‚­ì œ
                         </div>
                         <div class="input-group">
                             <label>ëŒ“ê¸€ ID:</label>
                             <input type="text" id="deleteCommentId" placeholder="ëŒ“ê¸€ ID ì…ë ¥">
                         </div>
                         <button class="btn" onclick="deleteComment()">ëŒ“ê¸€ ì‚­ì œ</button>
                         <div class="response" id="deleteCommentResponse"></div>
                     </div>
                     
                     <!-- ëŒ“ê¸€ ì˜¨ë„ ì—…ë°ì´íŠ¸ -->
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method patch">PATCH</span>
                             ëŒ“ê¸€ ì˜¨ë„ ì—…ë°ì´íŠ¸
                         </div>
                         <div class="input-group">
                             <label>ëŒ“ê¸€ ID:</label>
                             <input type="text" id="updateCommentTempId" placeholder="ëŒ“ê¸€ ID ì…ë ¥">
                         </div>
                         <div class="input-group">
                             <label>ì˜¨ë„ ë³€í™”:</label>
                             <input type="number" id="updateCommentTempValue" placeholder="0" value="0">
                         </div>
                         <button class="btn" onclick="updateCommentTemperature()">ì˜¨ë„ ì—…ë°ì´íŠ¸</button>
                         <div class="response" id="updateCommentTemperatureResponse"></div>
                     </div>
                 </div>
             </div>

             <!-- ë§ˆì´ë£¸ API ì„¹ì…˜ -->
             <div class="api-section">
                 <div class="section-header">ğŸ  ë§ˆì´ë£¸ API</div>
                 <div class="api-grid">
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method post">POST</span>
                             ë§ˆì´ë£¸ ìƒì„±
                         </div>
                         <div class="input-group">
                             <label>í”„ë¡œí•„ ì´ë¯¸ì§€:</label>
                             <input type="text" id="myroomProfileImage" placeholder="í”„ë¡œí•„ ì´ë¯¸ì§€ URL">
                         </div>
                         <div class="input-group">
                             <label>ì†Œê°œ:</label>
                             <textarea id="myroomBio" placeholder="ìê¸°ì†Œê°œ ì…ë ¥"></textarea>
                         </div>
                         <button class="btn" onclick="createMyRoom()">ë§ˆì´ë£¸ ìƒì„±</button>
                         <div class="response" id="createMyRoomResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             ë§ˆì´ë£¸ ì¡°íšŒ
                         </div>
                         <button class="btn" onclick="getMyRoom()">ë§ˆì´ë£¸ ì¡°íšŒ</button>
                         <div class="response" id="getMyRoomResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method patch">PATCH</span>
                             ì˜¨ë„ ì—…ë°ì´íŠ¸
                         </div>
                         <div class="input-group">
                             <label>ì˜¨ë„ ë³€í™”:</label>
                             <input type="number" id="temperatureChange" placeholder="ì˜¨ë„ ë³€í™”ê°’ (ì˜ˆ: 0.5, -0.3)" step="0.1">
                         </div>
                         <button class="btn" onclick="updateTemperature()">ì˜¨ë„ ì—…ë°ì´íŠ¸</button>
                         <div class="response" id="updateTemperatureResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method post">POST</span>
                             ì•„ì´í…œ ì¶”ê°€
                         </div>
                         <div class="input-group">
                             <label>ì•„ì´í…œ ì´ë¦„:</label>
                             <input type="text" id="itemName" placeholder="ì•„ì´í…œ ì´ë¦„">
                         </div>
                         <div class="input-group">
                             <label>ì„¤ëª…:</label>
                             <textarea id="itemDescription" placeholder="ì•„ì´í…œ ì„¤ëª…"></textarea>
                         </div>
                         <div class="input-group">
                             <label>íƒ€ì…:</label>
                             <select id="itemType">
                                 <option value="DECORATION">DECORATION</option>
                                 <option value="BADGE">BADGE</option>
                                 <option value="TROPHY">TROPHY</option>
                                 <option value="SPECIAL">SPECIAL</option>
                             </select>
                         </div>
                         <div class="input-group">
                             <label>í¬ê·€ë„:</label>
                             <select id="itemRarity">
                                 <option value="COMMON">COMMON</option>
                                 <option value="RARE">RARE</option>
                                 <option value="EPIC">EPIC</option>
                                 <option value="LEGENDARY">LEGENDARY</option>
                             </select>
                         </div>
                         <button class="btn" onclick="addItem()">ì•„ì´í…œ ì¶”ê°€</button>
                         <div class="response" id="addItemResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             ì•„ì´í…œ ëª©ë¡
                         </div>
                         <button class="btn" onclick="getItems()">ì•„ì´í…œ ì¡°íšŒ</button>
                         <div class="response" id="getItemsResult"></div>
                     </div>
                 </div>
             </div>

             <!-- íŒ”ë¡œìš° API ì„¹ì…˜ -->
             <div class="api-section">
                 <div class="section-header">ğŸ‘¥ íŒ”ë¡œìš° API</div>
                 <div class="api-grid">
                     <div class="api-card">
                         <div class="api-title">
                             <span class="method post">POST</span>
                             ì‚¬ìš©ì íŒ”ë¡œìš°
                         </div>
                         <div class="input-group">
                             <label>íŒ”ë¡œìš°í•  ì‚¬ìš©ì ID:</label>
                             <input type="text" id="followUserId" placeholder="ì‚¬ìš©ì ID ì…ë ¥">
                         </div>
                         <button class="btn" onclick="followUser()">íŒ”ë¡œìš°</button>
                         <div class="response" id="followUserResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method delete">DELETE</span>
                             ì‚¬ìš©ì ì–¸íŒ”ë¡œìš°
                         </div>
                         <div class="input-group">
                             <label>ì–¸íŒ”ë¡œìš°í•  ì‚¬ìš©ì ID:</label>
                             <input type="text" id="unfollowUserId" placeholder="ì‚¬ìš©ì ID ì…ë ¥">
                         </div>
                         <button class="btn" onclick="unfollowUser()">ì–¸íŒ”ë¡œìš°</button>
                         <div class="response" id="unfollowUserResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             íŒ”ë¡œì›Œ ëª©ë¡
                         </div>
                         <div class="input-group">
                             <label>ì‚¬ìš©ì ID:</label>
                             <input type="text" id="getFollowersUserId" placeholder="ì‚¬ìš©ì ID ì…ë ¥">
                         </div>
                         <div class="input-group">
                             <label>í˜ì´ì§€:</label>
                             <input type="number" id="getFollowersPage" value="1" min="1">
                         </div>
                         <div class="input-group">
                             <label>ê°œìˆ˜:</label>
                             <input type="number" id="getFollowersLimit" value="10" min="1" max="100">
                         </div>
                         <button class="btn" onclick="getFollowers()">íŒ”ë¡œì›Œ ì¡°íšŒ</button>
                         <div class="response" id="getFollowersResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             íŒ”ë¡œì‰ ëª©ë¡
                         </div>
                         <div class="input-group">
                             <label>ì‚¬ìš©ì ID:</label>
                             <input type="text" id="getFollowingUserId" placeholder="ì‚¬ìš©ì ID ì…ë ¥">
                         </div>
                         <div class="input-group">
                             <label>í˜ì´ì§€:</label>
                             <input type="number" id="getFollowingPage" value="1" min="1">
                         </div>
                         <div class="input-group">
                             <label>ê°œìˆ˜:</label>
                             <input type="number" id="getFollowingLimit" value="10" min="1" max="100">
                         </div>
                         <button class="btn" onclick="getFollowing()">íŒ”ë¡œì‰ ì¡°íšŒ</button>
                         <div class="response" id="getFollowingResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             íŒ”ë¡œìš° í†µê³„
                         </div>
                         <div class="input-group">
                             <label>ì‚¬ìš©ì ID:</label>
                             <input type="text" id="getFollowStatsUserId" placeholder="ì‚¬ìš©ì ID ì…ë ¥">
                         </div>
                         <button class="btn" onclick="getFollowStats()">í†µê³„ ì¡°íšŒ</button>
                         <div class="response" id="getFollowStatsResult"></div>
                     </div>

                     <div class="api-card">
                         <div class="api-title">
                             <span class="method get">GET</span>
                             íŒ”ë¡œìš° ìƒíƒœ í™•ì¸
                         </div>
                         <div class="input-group">
                             <label>í™•ì¸í•  ì‚¬ìš©ì ID:</label>
                             <input type="text" id="checkFollowUserId" placeholder="ì‚¬ìš©ì ID ì…ë ¥">
                         </div>
                         <button class="btn" onclick="checkFollowStatus()">ìƒíƒœ í™•ì¸</button>
                         <div class="response" id="checkFollowStatusResult"></div>
                     </div>
                 </div>
             </div>
        </div>
    </div>

    <!-- ëœë¤ ë§¤ì¹­ ì‹œìŠ¤í…œ API ì„¹ì…˜ -->
    <div class="api-section">
        <div class="section-header">ğŸ’• ëœë¤ ë§¤ì¹­ ì‹œìŠ¤í…œ</div>
        <div class="api-grid">
            <!-- í”„ë¡œí•„ ê´€ë¦¬ -->
            <div class="api-card">
                <div class="api-title">
                    <span class="method post">POST</span>
                    í”„ë¡œí•„ ìƒì„±
                </div>
                <div class="input-group">
                    <label>í‚¤ (cm):</label>
                    <input type="number" id="profileHeight" placeholder="170">
                </div>
                <div class="input-group">
                    <label>ë‚˜ì´:</label>
                    <input type="number" id="profileAge" placeholder="25">
                </div>
                <div class="input-group">
                    <label>ì„±ë³„:</label>
                    <select id="profileGender">
                        <option value="male">ë‚¨ì„±</option>
                        <option value="female">ì—¬ì„±</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>í•™ê³¼:</label>
                    <input type="text" id="profileMajor" placeholder="ì»´í“¨í„°ê³µí•™ê³¼">
                </div>
                <div class="input-group">
                    <label>MBTI:</label>
                    <input type="text" id="profileMbti" placeholder="INTJ">
                </div>
                <div class="input-group">
                    <label>ì·¨ë¯¸:</label>
                    <input type="text" id="profileHobbies" placeholder="ê²Œì„, ë…ì„œ, ìš´ë™">
                </div>
                <div class="input-group">
                    <label>í”„ë¡œí•„ ì‚¬ì§„ URL (ì„ íƒ):</label>
                    <input type="text" id="profilePhotoUrl" placeholder="https://...">
                </div>
                <button class="btn" onclick="createProfile()">í”„ë¡œí•„ ìƒì„±</button>
                <div class="response" id="createProfileResult"></div>
            </div>

            <!-- ë§¤ì¹­ ì„ í˜¸ë„ ì„¤ì • -->
            <div class="api-card">
                <div class="api-title">
                    <span class="method post">POST</span>
                    ë§¤ì¹­ ì„ í˜¸ë„ ì„¤ì •
                </div>
                <div class="input-group">
                    <label>ì„ í˜¸ ì„±ë³„:</label>
                    <select id="preferredGender">
                        <option value="male">ë‚¨ì„±</option>
                        <option value="female">ì—¬ì„±</option>
                        <option value="all">ëª¨ë‘</option>
                    </select>
                </div>
                <div class="input-group">
                    <label>ìµœì†Œ ë‚˜ì´:</label>
                    <input type="number" id="minAge" placeholder="20">
                </div>
                <div class="input-group">
                    <label>ìµœëŒ€ ë‚˜ì´:</label>
                    <input type="number" id="maxAge" placeholder="30">
                </div>
                <div class="input-group">
                    <label>ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜:</label>
                    <select id="matchingAlgorithm">
                        <option value="random">ëœë¤</option>
                        <option value="tempus_based">ì˜¨ë„ ê¸°ë°˜</option>
                    </select>
                </div>
                <button class="btn" onclick="createMatchingPreference()">ì„ í˜¸ë„ ì„¤ì •</button>
                <div class="response" id="createMatchingPreferenceResult"></div>
            </div>

            <!-- ëœë¤ ë§¤ì¹­ ì‹¤í–‰ -->
            <div class="api-card">
                <div class="api-title">
                    <span class="method post">POST</span>
                    ëœë¤ ë§¤ì¹­ ì‹¤í–‰
                </div>
                <button class="btn" onclick="executeRandomMatching()">ë§¤ì¹­ ì‹œì‘</button>
                <div class="response" id="randomMatchingResult"></div>
            </div>

            <!-- ì±„íŒ… ì‹œìŠ¤í…œ -->
            <div class="api-card">
                <div class="api-title">
                    <span class="method post">POST</span>
                    ë©”ì‹œì§€ ì „ì†¡
                </div>
                <div class="input-group">
                    <label>í˜„ì¬ ë§¤ì¹­ ID:</label>
                    <input type="text" id="currentMatchingId" placeholder="ë§¤ì¹­ í›„ ìë™ ì…ë ¥ë¨" readonly>
                </div>
                <div class="input-group">
                    <label>ë©”ì‹œì§€:</label>
                    <textarea id="messageText" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                </div>
                <button class="btn" onclick="sendMessage()">ë©”ì‹œì§€ ì „ì†¡</button>
                <div class="response" id="sendMessageResult"></div>
            </div>

            <!-- ë©”ì‹œì§€ ì¡°íšŒ -->
            <div class="api-card">
                <div class="api-title">
                    <span class="method get">GET</span>
                    ë©”ì‹œì§€ ì¡°íšŒ
                </div>
                <button class="btn" onclick="getMessages()">ë©”ì‹œì§€ ì¡°íšŒ</button>
                <div class="response" id="getMessagesResult"></div>
            </div>

            <!-- í”„ë¡œí•„ ê³µê°œ ì •ë³´ -->
            <div class="api-card">
                <div class="api-title">
                    <span class="method get">GET</span>
                    í”„ë¡œí•„ ê³µê°œ ì •ë³´
                </div>
                <button class="btn" onclick="getProfileRevealInfo()">ê³µê°œ ì •ë³´ ì¡°íšŒ</button>
                <div class="response" id="profileRevealResult"></div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let authToken = '';
        let currentUserId = '';
        
        // API ê¸°ë³¸ URL
        const API_BASE = 'http://localhost:3000/api';
        
        // ì‘ë‹µ í‘œì‹œ í•¨ìˆ˜
        function showResponse(elementId, data, isSuccess = true) {
            const element = document.getElementById(elementId);
            element.textContent = JSON.stringify(data, null, 2);
            element.className = `response ${isSuccess ? 'success' : 'error'}`;
        }
        
        // ì¸ì¦ ì •ë³´ ì—…ë°ì´íŠ¸
        function updateAuthInfo() {
            document.getElementById('currentToken').textContent = authToken ? 'ìˆìŒ' : 'ì—†ìŒ';
            document.getElementById('currentUserId').textContent = currentUserId || 'ì—†ìŒ';
            
            const tokenDisplay = document.getElementById('tokenDisplay');
            if (authToken) {
                tokenDisplay.textContent = authToken;
                tokenDisplay.style.display = 'block';
                console.log('Auth info updated:', { authToken, currentUserId }); // ë””ë²„ê¹…ìš©
            } else {
                tokenDisplay.style.display = 'none';
                console.log('Auth info cleared'); // ë””ë²„ê¹…ìš©
            }
        }
        
        // HTTP ìš”ì²­ í—¬í¼ í•¨ìˆ˜
        async function makeRequest(url, options = {}) {
            try {
                // bodyê°€ ê°ì²´ì¸ ê²½ìš° JSONìœ¼ë¡œ ë³€í™˜
                if (options.body && typeof options.body === 'object') {
                    options.body = JSON.stringify(options.body);
                }
                
                // ì¸ì¦ í—¤ë” ë””ë²„ê¹…
                const headers = {
                    'Content-Type': 'application/json',
                    ...(authToken && { 'Authorization': `Bearer ${authToken}` }),
                    ...options.headers
                };
                
                console.log('Request Headers:', headers); // ë””ë²„ê¹…ìš©
                console.log('Auth Token:', authToken); // ë””ë²„ê¹…ìš©
                
                const response = await fetch(url, {
                    headers,
                    ...options
                });
                
                const data = await response.json();
                console.log(`Request to ${url}:`, { status: response.status, data }); // ë””ë²„ê¹…ìš©
                
                return { success: response.ok, data, status: response.status };
            } catch (error) {
                console.error(`Request error to ${url}:`, error); // ë””ë²„ê¹…ìš©
                return { success: false, data: { error: error.message }, status: 0 };
            }
        }
        
        // User API í•¨ìˆ˜ë“¤
        async function register() {
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const nickname = document.getElementById('registerNickname').value;
            
            if (!email || !password || !nickname) {
                showResponse('registerResponse', { error: 'ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/auth/register`, {
                method: 'POST',
                body: JSON.stringify({ email, password, nickname })
            });
            
            // íšŒì›ê°€ì… ì„±ê³µ ì‹œ ìë™ìœ¼ë¡œ í† í°ê³¼ ì‚¬ìš©ì ID ì„¤ì •
            if (result.success && result.data && result.data.data && result.data.data.token) {
                authToken = result.data.data.token;
                currentUserId = result.data.data.user.id;
                updateAuthInfo();
                console.log('Auto-login after register:', { authToken, currentUserId });
            }
            
            showResponse('registerResponse', result.data, result.success);
        }
        
        async function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showResponse('loginResponse', { error: 'ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/auth/login`, {
                method: 'POST',
                body: JSON.stringify({ email, password })
            });
            
            console.log('Login response:', result); // ë””ë²„ê¹…ìš©
            
            // ì‘ë‹µ êµ¬ì¡°: result.data.data.token (ì¤‘ì²©ëœ data êµ¬ì¡°)
            if (result.success && result.data && result.data.data && result.data.data.token) {
                authToken = result.data.data.token;
                currentUserId = result.data.data.user.id;
                updateAuthInfo();
                console.log('Auth updated:', { authToken, currentUserId }); // ë””ë²„ê¹…ìš©
            } else {
                console.log('Login failed or no token:', result); // ë””ë²„ê¹…ìš©
                console.log('Response structure:', {
                    hasSuccess: !!result.success,
                    hasData: !!result.data,
                    hasNestedData: !!(result.data && result.data.data),
                    hasToken: !!(result.data && result.data.data && result.data.data.token),
                    hasUser: !!(result.data && result.data.data && result.data.data.user)
                });
            }
            
            showResponse('loginResponse', result.data, result.success);
        }
        
        async function checkNickname() {
            const nickname = document.getElementById('checkNickname').value;
            
            if (!nickname) {
                showResponse('checkNicknameResponse', { error: 'ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/auth/check-nickname?nickname=${encodeURIComponent(nickname)}`);
            showResponse('checkNicknameResponse', result.data, result.success);
        }
        
        async function getMyTemperature() {
            if (!authToken) {
                showResponse('getMyTemperatureResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/auth/temperature`);
            showResponse('getMyTemperatureResponse', result.data, result.success);
        }
        
        // Post API í•¨ìˆ˜ë“¤
        async function createPost() {
            if (!authToken) {
                showResponse('createPostResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            const temperature_change = parseInt(document.getElementById('postTemperature').value) || 0;
            
            if (!title || !content) {
                showResponse('createPostResponse', { error: 'ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/posts`, {
                method: 'POST',
                body: JSON.stringify({ title, content, temperature_change })
            });
            
            showResponse('createPostResponse', result.data, result.success);
        }
        
        async function getAllPosts() {
            const page = document.getElementById('postPage').value || 1;
            const limit = document.getElementById('postLimit').value || 10;
            
            const result = await makeRequest(`${API_BASE}/posts?page=${page}&limit=${limit}`);
            showResponse('getAllPostsResponse', result.data, result.success);
        }
        
        async function getPostById() {
            const id = document.getElementById('getPostId').value;
            
            if (!id) {
                showResponse('getPostByIdResponse', { error: 'ê²Œì‹œê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/posts/${id}`);
            showResponse('getPostByIdResponse', result.data, result.success);
        }
        
        async function updatePost() {
            if (!authToken) {
                showResponse('updatePostResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const id = document.getElementById('updatePostId').value;
            const title = document.getElementById('updatePostTitle').value;
            const content = document.getElementById('updatePostContent').value;
            
            if (!id || !title || !content) {
                showResponse('updatePostResponse', { error: 'ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/posts/${id}`, {
                method: 'PUT',
                body: JSON.stringify({ title, content })
            });
            
            showResponse('updatePostResponse', result.data, result.success);
        }
        
        async function deletePost() {
            if (!authToken) {
                showResponse('deletePostResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const id = document.getElementById('deletePostId').value;
            
            if (!id) {
                showResponse('deletePostResponse', { error: 'ê²Œì‹œê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/posts/${id}`, {
                method: 'DELETE'
            });
            
            showResponse('deletePostResponse', result.data, result.success);
        }
        
        async function updatePostTemperature() {
            const id = document.getElementById('updatePostTempId').value;
            const temperature_change = parseInt(document.getElementById('updatePostTempValue').value) || 0;
            
            if (!id) {
                showResponse('updatePostTemperatureResponse', { error: 'ê²Œì‹œê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/posts/${id}/temperature`, {
                method: 'PATCH',
                body: JSON.stringify({ temperature_change })
            });
            
            showResponse('updatePostTemperatureResponse', result.data, result.success);
        }
        
                 // Comment API í•¨ìˆ˜ë“¤
         async function handleCreateComment() {
             if (!authToken) {
                 showResponse('createCommentResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                 return;
             }
             
             const postId = document.getElementById('commentPostId').value;
             const content = document.getElementById('commentContent').value;
             const temperature_change = parseInt(document.getElementById('commentTemperature').value) || 0;
             
             if (!postId || !content) {
                 showResponse('createCommentResponse', { error: 'ê²Œì‹œê¸€ IDì™€ ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                 return;
             }
             
             const result = await makeRequest(`${API_BASE}/posts/${postId}/comments`, {
                 method: 'POST',
                 body: JSON.stringify({ content, temperature_change })
             });
             
             showResponse('createCommentResponse', result.data, result.success);
         }
        
        async function getCommentsByPost() {
            const postId = document.getElementById('getCommentsPostId').value;
            const page = document.getElementById('commentPage').value || 1;
            const limit = document.getElementById('commentLimit').value || 10;
            
            if (!postId) {
                showResponse('getCommentsByPostResponse', { error: 'ê²Œì‹œê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/posts/${postId}/comments?page=${page}&limit=${limit}`);
            showResponse('getCommentsByPostResponse', result.data, result.success);
        }
        
        async function getCommentById() {
            const id = document.getElementById('getCommentId').value;
            
            if (!id) {
                showResponse('getCommentByIdResponse', { error: 'ëŒ“ê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/comments/${id}`);
            showResponse('getCommentByIdResponse', result.data, result.success);
        }
        
        async function updateComment() {
            if (!authToken) {
                showResponse('updateCommentResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const id = document.getElementById('updateCommentId').value;
            const content = document.getElementById('updateCommentContent').value;
            
            if (!id || !content) {
                showResponse('updateCommentResponse', { error: 'ëŒ“ê¸€ IDì™€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/comments/${id}`, {
                method: 'PUT',
                body: JSON.stringify({ content })
            });
            
            showResponse('updateCommentResponse', result.data, result.success);
        }
        
        async function deleteComment() {
            if (!authToken) {
                showResponse('deleteCommentResponse', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const id = document.getElementById('deleteCommentId').value;
            
            if (!id) {
                showResponse('deleteCommentResponse', { error: 'ëŒ“ê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/comments/${id}`, {
                method: 'DELETE'
            });
            
            showResponse('deleteCommentResponse', result.data, result.success);
        }
        
        async function updateCommentTemperature() {
            const id = document.getElementById('updateCommentTempId').value;
            const temperature_change = parseInt(document.getElementById('updateCommentTempValue').value) || 0;
            
            if (!id) {
                showResponse('updateCommentTemperatureResponse', { error: 'ëŒ“ê¸€ IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/comments/${id}/temperature`, {
                method: 'PATCH',
                body: JSON.stringify({ temperature_change })
            });
            
            showResponse('updateCommentTemperatureResponse', result.data, result.success);
        }
        
        // ë§ˆì´ë£¸ API í•¨ìˆ˜ë“¤
        async function createMyRoom() {
            if (!authToken) {
                showResponse('createMyRoomResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const profile_image = document.getElementById('myroomProfileImage').value;
            const bio = document.getElementById('myroomBio').value;
            
            const result = await makeRequest(`${API_BASE}/myroom`, {
                method: 'POST',
                body: JSON.stringify({ profile_image, bio })
            });
            
            showResponse('createMyRoomResult', result.data, result.success);
        }

        async function getMyRoom() {
            if (!authToken) {
                showResponse('getMyRoomResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/myroom`);
            showResponse('getMyRoomResult', result.data, result.success);
        }

        async function updateTemperature() {
            if (!authToken) {
                showResponse('updateTemperatureResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const temperature_change = parseFloat(document.getElementById('temperatureChange').value) || 0;
            
            const result = await makeRequest(`${API_BASE}/myroom/temperature`, {
                method: 'PATCH',
                body: JSON.stringify({ temperature_change })
            });
            
            showResponse('updateTemperatureResult', result.data, result.success);
        }

        async function addItem() {
            if (!authToken) {
                showResponse('addItemResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const name = document.getElementById('itemName').value;
            const description = document.getElementById('itemDescription').value;
            const item_type = document.getElementById('itemType').value;
            const rarity = document.getElementById('itemRarity').value;
            
            if (!name || !item_type || !rarity) {
                showResponse('addItemResult', { error: 'ì•„ì´í…œ ì´ë¦„, íƒ€ì…, í¬ê·€ë„ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/myroom/items`, {
                method: 'POST',
                body: JSON.stringify({ name, description, item_type, rarity })
            });
            
            showResponse('addItemResult', result.data, result.success);
        }

        async function getItems() {
            if (!authToken) {
                showResponse('getItemsResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/myroom/items`);
            showResponse('getItemsResult', result.data, result.success);
        }

        // íŒ”ë¡œìš° API í•¨ìˆ˜ë“¤
        async function followUser() {
            if (!authToken) {
                showResponse('followUserResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const following_id = document.getElementById('followUserId').value;
            
            if (!following_id) {
                showResponse('followUserResult', { error: 'íŒ”ë¡œìš°í•  ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/follow`, {
                method: 'POST',
                body: JSON.stringify({ following_id })
            });
            
            showResponse('followUserResult', result.data, result.success);
        }

        async function unfollowUser() {
            if (!authToken) {
                showResponse('unfollowUserResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const followingId = document.getElementById('unfollowUserId').value;
            
            if (!followingId) {
                showResponse('unfollowUserResult', { error: 'ì–¸íŒ”ë¡œìš°í•  ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/follow/${followingId}`, {
                method: 'DELETE'
            });
            
            showResponse('unfollowUserResult', result.data, result.success);
        }

        async function getFollowers() {
            const userId = document.getElementById('getFollowersUserId').value;
            const page = document.getElementById('getFollowersPage').value || 1;
            const limit = document.getElementById('getFollowersLimit').value || 10;
            
            if (!userId) {
                showResponse('getFollowersResult', { error: 'ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/follow/followers/${userId}?page=${page}&limit=${limit}`);
            showResponse('getFollowersResult', result.data, result.success);
        }

        async function getFollowing() {
            const userId = document.getElementById('getFollowingUserId').value;
            const page = document.getElementById('getFollowingPage').value || 1;
            const limit = document.getElementById('getFollowingLimit').value || 10;
            
            if (!userId) {
                showResponse('getFollowingResult', { error: 'ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/follow/following/${userId}?page=${page}&limit=${limit}`);
            showResponse('getFollowingResult', result.data, result.success);
        }

        async function getFollowStats() {
            const userId = document.getElementById('getFollowStatsUserId').value;
            
            if (!userId) {
                showResponse('getFollowStatsResult', { error: 'ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/follow/stats/${userId}`);
            showResponse('getFollowStatsResult', result.data, result.success);
        }

        async function checkFollowStatus() {
            if (!authToken) {
                showResponse('checkFollowStatusResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const followingId = document.getElementById('checkFollowUserId').value;
            
            if (!followingId) {
                showResponse('checkFollowStatusResult', { error: 'í™•ì¸í•  ì‚¬ìš©ì IDë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/follow/check/${followingId}`);
            showResponse('checkFollowStatusResult', result.data, result.success);
        }

        // ëœë¤ ë§¤ì¹­ ì‹œìŠ¤í…œ API í•¨ìˆ˜ë“¤
        async function createProfile() {
            if (!authToken) {
                showResponse('createProfileResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const profileData = {
                height: parseInt(document.getElementById('profileHeight').value),
                age: parseInt(document.getElementById('profileAge').value),
                gender: document.getElementById('profileGender').value,
                major: document.getElementById('profileMajor').value,
                mbti: document.getElementById('profileMbti').value,
                hobbies: document.getElementById('profileHobbies').value,
                profilePhotoUrl: document.getElementById('profilePhotoUrl').value || undefined
            };
            
            if (!profileData.height || !profileData.age || !profileData.gender || 
                !profileData.major || !profileData.mbti || !profileData.hobbies) {
                showResponse('createProfileResult', { error: 'í•„ìˆ˜ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/profile`, {
                method: 'POST',
                body: profileData  // ì´ì œ ê°ì²´ë¥¼ ì§ì ‘ ì „ë‹¬í•´ë„ ë©ë‹ˆë‹¤
            });
            
            showResponse('createProfileResult', result.data, result.success);
        }

        async function getProfile() {
            if (!authToken) {
                showResponse('getProfileResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/profile`);
            showResponse('getProfileResult', result.data, result.success);
        }

        async function createMatchingPreference() {
            if (!authToken) {
                showResponse('createMatchingPreferenceResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const preferenceData = {
                preferredGender: document.getElementById('preferredGender').value,
                minAge: parseInt(document.getElementById('minAge').value) || undefined,
                maxAge: parseInt(document.getElementById('maxAge').value) || undefined,
                matchingAlgorithm: document.getElementById('matchingAlgorithm').value
            };
            
            if (!preferenceData.preferredGender || !preferenceData.matchingAlgorithm) {
                showResponse('createMatchingPreferenceResult', { error: 'í•„ìˆ˜ ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/matching/preference`, {
                method: 'POST',
                body: preferenceData  // ì´ì œ ê°ì²´ë¥¼ ì§ì ‘ ì „ë‹¬í•´ë„ ë©ë‹ˆë‹¤
            });
            
            showResponse('createMatchingPreferenceResult', result.data, result.success);
        }

        async function executeRandomMatching() {
            if (!authToken) {
                showResponse('randomMatchingResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/matching/random`, {
                method: 'POST'
            });
            
            showResponse('randomMatchingResult', result.data, result.success);
            
            // ë§¤ì¹­ ì„±ê³µ ì‹œ ë§¤ì¹­ ID ì €ì¥
            if (result.success && result.data.matching) {
                window.currentMatchingId = result.data.matching.id;
                document.getElementById('currentMatchingId').value = result.data.matching.id;
            }
        }

        async function sendMessage() {
            if (!authToken) {
                showResponse('sendMessageResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const matchingId = document.getElementById('currentMatchingId').value;
            if (!matchingId) {
                showResponse('sendMessageResult', { error: 'ë§¤ì¹­ IDê°€ í•„ìš”í•©ë‹ˆë‹¤. ë¨¼ì € ë§¤ì¹­ì„ ì§„í–‰í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const messageData = {
                message: document.getElementById('messageText').value,
                messageType: 'text'
            };
            
            if (!messageData.message) {
                showResponse('sendMessageResult', { error: 'ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/chat/${matchingId}/messages`, {
                method: 'POST',
                body: messageData
            });
            
            showResponse('sendMessageResult', result.data, result.success);
            
            if (result.success) {
                document.getElementById('messageText').value = '';
                // ë©”ì‹œì§€ ì „ì†¡ í›„ ì±„íŒ…ë°© ë©”ì‹œì§€ ì¡°íšŒ
                getMessages();
            }
        }

        async function getMessages() {
            if (!authToken) {
                showResponse('getMessagesResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const matchingId = document.getElementById('currentMatchingId').value;
            if (!matchingId) {
                showResponse('getMessagesResult', { error: 'ë§¤ì¹­ IDê°€ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/chat/${matchingId}/messages`);
            showResponse('getMessagesResult', result.data, result.success);
        }

        async function getProfileRevealInfo() {
            if (!authToken) {
                showResponse('profileRevealResult', { error: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const matchingId = document.getElementById('currentMatchingId').value;
            if (!matchingId) {
                showResponse('profileRevealResult', { error: 'ë§¤ì¹­ IDê°€ í•„ìš”í•©ë‹ˆë‹¤.' }, false);
                return;
            }
            
            const result = await makeRequest(`${API_BASE}/chat/${matchingId}/profile-reveal`);
            showResponse('profileRevealResult', result.data, result.success);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            updateAuthInfo();
            
            // ìƒ˜í”Œ ë°ì´í„° ë¯¸ë¦¬ ì…ë ¥
            document.getElementById('registerEmail').value = 'test@example.com';
            document.getElementById('registerPassword').value = 'password123';
            document.getElementById('registerNickname').value = 'í…ŒìŠ¤íŠ¸ìœ ì €';
            
            document.getElementById('loginEmail').value = 'test@example.com';
            document.getElementById('loginPassword').value = 'password123';
            
            document.getElementById('postTitle').value = 'í…ŒìŠ¤íŠ¸ ê²Œì‹œê¸€';
            document.getElementById('postContent').value = 'ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ ê²Œì‹œê¸€ì…ë‹ˆë‹¤.';
            
            document.getElementById('commentContent').value = 'í…ŒìŠ¤íŠ¸ ëŒ“ê¸€ì…ë‹ˆë‹¤.';
            
            // ë§ˆì´ë£¸/íŒ”ë¡œìš° ìƒ˜í”Œ ë°ì´í„°
            document.getElementById('myroomBio').value = 'ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” í…ŒìŠ¤íŠ¸ ìœ ì €ì…ë‹ˆë‹¤.';
            document.getElementById('itemName').value = 'í…ŒìŠ¤íŠ¸ ì•„ì´í…œ';
            document.getElementById('itemDescription').value = 'ì´ê²ƒì€ í…ŒìŠ¤íŠ¸ ì•„ì´í…œì…ë‹ˆë‹¤.';
            
            // ëœë¤ ë§¤ì¹­ ì‹œìŠ¤í…œ ìƒ˜í”Œ ë°ì´í„°
            document.getElementById('profileHeight').value = '170';
            document.getElementById('profileAge').value = '25';
            document.getElementById('profileGender').value = 'male';
            document.getElementById('profileMajor').value = 'ì»´í“¨í„°ê³µí•™ê³¼';
            document.getElementById('profileMbti').value = 'INTJ';
            document.getElementById('profileHobbies').value = 'ê²Œì„, ë…ì„œ, ìš´ë™';
            
            // ë””ë²„ê¹…ìš©: í•¨ìˆ˜ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
            console.log('Functions loaded:', {
                handleCreateComment: typeof handleCreateComment,
                getAllPosts: typeof getAllPosts,
                makeRequest: typeof makeRequest,
                createMyRoom: typeof createMyRoom,
                followUser: typeof followUser,
                createProfile: typeof createProfile,
                executeRandomMatching: typeof executeRandomMatching,
                sendMessage: typeof sendMessage
            });
        });
    </script>
</body>
</html>
